{
  "tasks": [
    {
      "id": "282e19a2-7afa-4e27-9b30-896862effae7",
      "name": "FocusAnalysisService에 AI 월간 분석 연동",
      "description": "FocusAnalysisService.getMonthlyAIAnalysis() 메서드에서 현재 로컬 분석만 수행하고 있는 로직을 GeminiService.generateMonthlyAnalysisSuggestions()를 호출하여 실제 AI 분석을 수행하도록 수정합니다.",
      "notes": "GeminiService는 이미 FocusAnalysisService에 주입되어 있음. 기존 로깅 패턴과 예외 처리 방식 유지. AI 응답 파싱 실패 시 안전한 fallback 처리 필요.",
      "status": "completed",
      "dependencies": [],
      "createdAt": "2025-09-07T06:01:18.268Z",
      "updatedAt": "2025-09-07T06:03:38.646Z",
      "relatedFiles": [
        {
          "path": "src/main/java/com/fivlo/fivlo_backend/domain/pomodoro/service/FocusAnalysisService.java",
          "type": "TO_MODIFY",
          "description": "getMonthlyAIAnalysis 메서드 수정",
          "lineStart": 339,
          "lineEnd": 375
        },
        {
          "path": "src/main/java/com/fivlo/fivlo_backend/common/ai/GeminiService.java",
          "type": "REFERENCE",
          "description": "완벽히 구현된 generateMonthlyAnalysisSuggestions 메서드",
          "lineStart": 200,
          "lineEnd": 230
        }
      ],
      "implementationGuide": "1. 기존 월간 세션 데이터 조회 로직 유지\\n2. 세션 데이터를 JSON 문자열로 변환하여 GeminiService에 전달\\n3. geminiService.generateMonthlyAnalysisSuggestions() 호출\\n4. AI 응답을 파싱하여 AIAnalysisResponse 구조에 맞게 변환\\n5. 기존 로컬 분석 결과 제거하고 AI 분석 결과로 대체\\n6. 에러 처리 및 로깅 추가 (AI 호출 실패 시 빈 응답 반환)",
      "verificationCriteria": "1. GeminiService.generateMonthlyAnalysisSuggestions() 호출이 정상 동작하는지 확인\\n2. AI 응답이 올바르게 파싱되어 AIAnalysisResponse로 변환되는지 확인\\n3. 세션 데이터가 부족한 경우 빈 응답 반환하는지 확인\\n4. AI 호출 실패 시 적절한 에러 처리가 되는지 확인\\n5. 기존 API 33 엔드포인트가 정상 동작하는지 확인\\n6. 컴파일 오류가 없는지 확인",
      "analysisResult": "AI 기능 통합 구현. GeminiService.java는 완벽히 수정 완료된 상태에서 FocusAnalysisService.getMonthlyAIAnalysis() 메서드만 수정하면 완전한 AI 기능 구현 완료. TaskController와 TaskService는 이미 완벽히 구현되어 있음.",
      "summary": "FocusAnalysisService.getMonthlyAIAnalysis()에 GeminiService 연동 성공적으로 구현. 세션 데이터를 JSON으로 변환하여 AI에 전달, 응답 파싱, 에러 처리 포함. 기존 로컬 분석을 제거하고 실제 AI 분석으로 대체하여 API 33 기능 완성. 안전한 fallback 처리로 안정성 확보.",
      "completedAt": "2025-09-07T06:03:38.645Z"
    },
    {
      "id": "6ade2cf3-5489-4b18-a9d4-20cbcc37b1fd",
      "name": "TaskController에 언어 지원 추가",
      "description": "TaskController의 AI 목표 분석 엔드포인트(API 16)에서 Accept-Language 헤더를 처리하여 다국어 지원을 추가합니다. 현재는 기본 한국어로만 동작하므로 언어별 지원을 구현합니다.",
      "notes": "TaskService.analyzeAndRecommendTasks()는 이미 언어 파라미터를 지원함. 기존 오버로드된 메서드(언어 파라미터 없는 버전)도 유지하여 하위 호환성 보장.",
      "status": "completed",
      "dependencies": [
        {
          "taskId": "282e19a2-7afa-4e27-9b30-896862effae7"
        }
      ],
      "createdAt": "2025-09-07T06:01:18.268Z",
      "updatedAt": "2025-09-07T06:09:07.003Z",
      "relatedFiles": [
        {
          "path": "src/main/java/com/fivlo/fivlo_backend/domain/task/controller/TaskController.java",
          "type": "TO_MODIFY",
          "description": "AI 목표 분석 엔드포인트에 언어 지원 추가",
          "lineStart": 151,
          "lineEnd": 156
        },
        {
          "path": "src/main/java/com/fivlo/fivlo_backend/domain/task/service/TaskService.java",
          "type": "REFERENCE",
          "description": "이미 언어별 지원이 완료된 analyzeAndRecommendTasks 메서드",
          "lineStart": 256,
          "lineEnd": 280
        }
      ],
      "implementationGuide": "1. analyzeGoalAndGetRecommendations 메서드에 @RequestHeader Accept-Language 파라미터 추가\\n2. Accept-Language 헤더에서 언어 코드 추출 (en, ko 지원)\\n3. TaskService.analyzeAndRecommendTasks(request, languageCode) 호출\\n4. 기본값은 한국어(ko)로 설정\\n5. 로깅에 언어 정보 추가\\n6. API 문서 주석 업데이트",
      "verificationCriteria": "1. Accept-Language: en 헤더로 요청 시 영어 응답이 오는지 확인\\n2. Accept-Language: ko 헤더로 요청 시 한국어 응답이 오는지 확인\\n3. Accept-Language 헤더가 없는 경우 기본 한국어로 동작하는지 확인\\n4. 지원하지 않는 언어 요청 시 기본 언어로 동작하는지 확인\\n5. 기존 API 16 동작이 변경되지 않았는지 확인\\n6. 컴파일 오류가 없는지 확인",
      "analysisResult": "AI 기능 통합 구현. GeminiService.java는 완벽히 수정 완료된 상태에서 FocusAnalysisService.getMonthlyAIAnalysis() 메서드만 수정하면 완전한 AI 기능 구현 완료. TaskController와 TaskService는 이미 완벽히 구현되어 있음.",
      "summary": "TaskController의 AI 목표 분석 엔드포인트에 Accept-Language 헤더 지원 성공적으로 추가. en/ko 언어별 분기 처리, 기본값 한국어 설정, extractLanguageCode 헬퍼 메서드 구현, 상세 로깅 추가로 완전한 다국어 지원 구현. 하위 호환성 완전 보장.",
      "completedAt": "2025-09-07T06:09:07.001Z"
    }
  ]
}